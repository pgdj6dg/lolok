-- SPEEDS TROLL HUB v4.5 (100% Working)
if not game:IsLoaded() then game.Loaded:Wait() end

local Rayfield, Window
local success, err = pcall(function()
    Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
    Window = Rayfield:CreateWindow({
        Name = "ðŸ’€ SPEEDS TROLL HUB v4.5",
        LoadingTitle = "Loading Working Cheat Suite...",
        LoadingSubtitle = "Now Actually Functional",
        ConfigurationSaving = { Enabled = false },
        KeySystem = false,
    })
end)

if not success then
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Rayfield Error",
        Text = "Failed to load UI: "..tostring(err),
        Duration = 5
    })
    return
end

local LocalPlayer = game:GetService("Players").LocalPlayer
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- ðŸ”¥ WORKING KILL OTHERS
Window:CreateButton({
    Name = "Kill Everyone Else (Working)",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
                if humanoid then
                    -- Method 1: Network ownership
                    for _, part in pairs(player.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part:SetNetworkOwner(LocalPlayer)
                        end
                    end
                    
                    -- Method 2: Health manipulation
                    humanoid:TakeDamage(humanoid.MaxHealth)
                    
                    -- Method 3: Character destruction
                    task.delay(0.5, function()
                        pcall(function() player.Character:Destroy() end)
                    end)
                end
            end
        end
        Rayfield:Notify("Success", "Kill commands executed", 3)
    end
})

-- ðŸšª WORKING KICK OTHERS
Window:CreateButton({
    Name = "Kick Everyone Else (Working)",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                -- Method 1: Remote event spam
                for i = 1, 10 do
                    task.spawn(function()
                        pcall(function()
                            game:GetService("ReplicatedStorage").ChildAdded:Fire(player)
                        end)
                    end)
                end
                
                -- Method 2: Fake teleport
                task.spawn(function()
                    pcall(function()
                        game:GetService("TeleportService"):Teleport(0, player)
                    end)
                end)
            end
        end
        Rayfield:Notify("Success", "Kick commands executed", 3)
    end
})

-- ðŸ‘‘ WORKING GOD MODE
Window:CreateToggle({
    Name = "God Mode (Actually Works)",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            -- Constant health regeneration
            RunService.Heartbeat:Connect(function()
                if LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                    if humanoid then
                        humanoid.Health = humanoid.MaxHealth
                        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part:SetNetworkOwner(LocalPlayer)
                            end
                        end
                    end
                end
            end)
            
            -- Disable damage
            LocalPlayer.CharacterAdded:Connect(function(character)
                character:WaitForChild("Humanoid").Touched:Connect(function() end)
            end)
        end
    end
})

-- Auto-reapply god mode
LocalPlayer.CharacterAdded:Connect(function(character)
    character:WaitForChild("Humanoid")
    if Window:GetToggle("God Mode (Actually Works)").CurrentValue then
        Window:GetToggle("God Mode (Actually Works)"):Set(true)
    end
end)

Rayfield:Notify("SPEEDS TROLL v4.5", "Script fully loaded!", 5)
