-- Blox Fruits 2025 Simulator (Roblox Studio - Complete)
local ServerStorage = game:GetService("ServerStorage")
local Players = game:GetService("Players")

-- 2025 Fruits
local fruits = {
    "Ice", "Flame", "Dark", "Light", "Rubber",
    "Quake", "Human: Buddha", "String", "Phoenix",
    "Rumble", "Pain", "Gravity", "Dough", "Shadow",
    "Venom", "Control", "Spirit", "Dragon", "Leopard",
    "Kitsune", "T-Rex", "Mammoth", "Sound", "Love",
    "Barrier", "Diamond", "Magma", "Sand", "Ghost",
    "Portal", "Chop", "Spring", "Bomb", "Smoke",
    "Time", "Chaos", "Galaxy", "Nova", "Celestial"
}

-- Fighting Styles (2025)
local fightingStyles = {
    "Combat", "Black Leg", "Electro", "Water Kung Fu",
    "Dragon Breath", "Superhuman", "Death Step",
    "Electric Claw", "Sharkman Karate", "Godhuman",
    "Sanguine Art", "Dragon Talon"
}

-- Player Data Storage
local playerData = {}

-- Gives random fruit
local function giveRandomFruit(player)
    local randomFruit = fruits[math.random(1, #fruits)]
    player:SetAttribute("CurrentFruit", randomFruit)
    return randomFruit
end

-- Gives fighting style
local function giveFightingStyle(player, styleName)
    if not table.find(fightingStyles, styleName) then return false end
    
    if not playerData[player.UserId] then
        playerData[player.UserId] = { Fruits = {}, Styles = {} }
    end
    
    table.insert(playerData[player.UserId].Styles, styleName)
    player:SetAttribute("CurrentStyle", styleName)
    return true
end

-- Command Handler
local function handleCommand(player, cmd, args)
    cmd = string.lower(cmd)
    
    if cmd == "fruit" then
        local target = args[1] and Players:FindFirstChild(args[1]) or player
        target:SetAttribute("CurrentFruit", args[2] or fruits[math.random(1, #fruits)])
    
    elseif cmd == "style" then
        local target = args[1] and Players:FindFirstChild(args[1]) or player
        giveFightingStyle(target, args[2] or fightingStyles[math.random(1, #fightingStyles)])
    
    elseif cmd == "mastery" then
        local target = args[1] and Players:FindFirstChild(args[1]) or player
        target:SetAttribute("StyleMastery", tonumber(args[2]) or 600)
    
    elseif cmd == "awaken" then
        player:SetAttribute("FruitAwakened", true)
    
    elseif cmd == "v4" then
        player:SetAttribute("RaceV4", true)
    end
end

-- Remote Events
local remoteEvent = Instance.new("RemoteEvent")
remoteEvent.Name = "BloxFruitsRemote"
remoteEvent.Parent = ServerStorage

remoteEvent.OnServerEvent:Connect(function(player, action, ...)
    if action == "GetFruit" then
        print(player.Name.." received: "..giveRandomFruit(player))
    elseif action == "GetStyle" then
        local style = ...
        if giveFightingStyle(player, style) then
            print(player.Name.." learned: "..style)
        end
    elseif action == "Command" then
        handleCommand(player, ...)
    end
end)

print("Blox Fruits 2025 Simulator Loaded!")
print("Commands: /fruit [name], /style [name], /mastery [amount], /awaken, /v4")
